---
title: IP주소 할당 방식 CIDR에 대해 이해
date: 2022/1/31
description: study cidr on computer network
tags: [Dev, Network, AWS, VPC]
---

### CIDR이란
- Classless Inter-Domain Routing의 약자
- 최신 IP주소 할당 방법
- IP주소가 끊임없이 많아지면서, 주소 체계가 모자란 현상이 발생하면서 등장
- 기존 IP 주소 할당 방식이었던 클래스를 대체하고, IP주소의 네트워크 영역과 호스트 영역을
  유연하게 나눠준다.

### IP 클래스
- 0.0.0.0 - 255.255.255.255 까지 표현 가능.
- 클래스별 IP 대역

    | CLASS | 대역 |
    | - | - |
    | A | 0.0.0.0 ~ 127.255.255.255    |
    | B | 128.0.0.0 ~ 191.255.255.255  |
    | C | 192.0.0.0 ~ 223.255.255.255  |
    | D | 224.0.0.0 ~ 239.255.255.255  |
    | E | 240.0.0.0 ~ 255.255.255.255  |

- 특정 주소는 공인 IP가 아닌 사설 IP로 주로 사용.

    | CLASS | 대역 |
    | - | - |
    | A | 10.0.0.0 ~ 10.255.255.255    |
    | B | 172.16.0.0 ~ 172.31.255.255  |
    | C | 192.168.0.0 ~ 192.168.255.255  |

### 네트워크 ID / 호스트 ID
- IP는 `네트워크 ID`와 `호스트ID`가 합쳐진 상태로 표현된다.

    > 210.77.8.3

    > `네트워크 ID` : 210.77.8 , `호스트ID` : 3

- IP를 네트워크 ID 호스트 ID로 나누는 이유는 라우터에서 경로 찾는데 사용하기 때문이다.

### 서브넷 마스크
- 각 클래스는 디폴트 서브넷 마스크를 가진다.

    | CLASS | 대역 | 디폴트 서브넷 마스크 |
    | - | - | - |
    | A | 0.0.0.0 ~ 127.255.255.255    | 255.0.0.0 |
    | B | 128.0.0.0 ~ 191.255.255.255  | 255.255.0.0 |
    | C | 192.0.0.0 ~ 223.255.255.255  | 255.255.255.0 |

- C클래스의 서브넷 마스크를 2진수로 표현하면 다음과 같다.

1111 1111 . 1111 1111 . 1111 1111 [네트워크 ID]. `0000 0000`[호스트 ID] = 255.255.255.0 (서브넷 마스크)

### CIDR의 표기 방식
- IP와 서브넷 마스크를 함께 표기하며, /로 둘을 구분한다. (ex. 210.77.8.155/26)
- CIDR은 각 클래스의 디폴트 서브넷 마스크에 얽매이지 않고, 네트워크 영역과 호스트 영역을
  직접 정의해 유연하게 나눈다.

### 예시

> 210.77.8.155/26

> IP - 210.77.8.155, 서브넷 마스크 - 255.255.255.192

- 1111 1111 . 1111 1111 . 1111 1111 . 1100 0000 = 255.255.255.192

- 호스트 수는 (2^6) - 2개(broadcast) = 62개

    ```
    210.77.8.0 ~ 210.77.8.63
    210.77.8.64 ~ 210.77.8.127
    210.77.8.128 ~ 210.77.8.191
    210.77.8.192 ~ 210.77.8.255
    ```

- 210.77.8.155은 210.77.8.128라는 세번째 네트워크 영역에 속하게 된다.

### 참고
- https://kim-dragon.tistory.com/9
- https://dev.classmethod.jp/articles/vpc-3/
- https://hwannny.tistory.com/86
